<!doctype html>
<html lang="en" dir="ltr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="Tiny Accumulator Machine (TAM) — Two-Word Instruction VM in C — Sthefanny Silva" />
  <link rel="stylesheet" href="assets/css/styles.css" />
  <title>Tiny Accumulator Machine (TAM) — Sthefanny Silva</title>
</head>
<body>
  <a class="skip-link" href="#content">Skip to content</a>

  <header class="site-header" role="banner">
    <div class="brand">
      <h1 class="site-title">Tiny Accumulator Machine (TAM)</h1>
    </div>

    <nav id="site-nav" class="site-nav" role="navigation" aria-label="Primary">
      <ul>
        <li><a class="nav-pill" href="index.html">Home</a></li>
        <li><a class="nav-pill" href="project1.html">EDESim</a></li>
        <li><a class="nav-pill" href="project2.html" aria-current="page">TAM</a></li>
      </ul>
    </nav>
  </header>

  <main id="content" class="narrow" role="main">
    <article class="project">
      <header>
        <h2>Systems Programming • 2025</h2>
      </header>

      <figure class="project-figure">
        <!-- Replace with a TAM screenshot/diagram -->
        <img src="assets\css\images\project2.jpg" alt="Diagram of Tiny Accumulator Machine: PC, ACC, RAM, and instruction format" />
        <figcaption>Two-word instruction virtual machine: <em>opcode</em> + <em>operand</em>, with PC, ACC, RAM, and basic control flow.</figcaption>
      </figure>

      <section aria-labelledby="p2-desc" class="card">
        <h3 id="p2-desc">Description</h3>
        <p>
            A minimal virtual machine written in C that executes a Tiny Accumulator Machine (TAM)
            instruction set. Each instruction is two words—an opcode and an operand.
            The VM maintains a program counter (PC), accumulator (ACC), and
            memory. It supports arithmetic and control-flow (e.g., <code>LOAD</code>, <code>STORE</code>,
            <code>ADD</code>, <code>SUB</code>, <code>JMP</code>, <code>JZ</code>) and halts on <code>HALT</code>.
            Programs are loaded from a simple text/binary format and executed step-by-step with clear
            state updates.
        </p>
      </section>

      <!-- Try-it demo (browser-hosted page in the TAM repo) -->
       <section class="card" aria-labelledby="demo-heading">
        <h3 id="demo-heading">Try the Simulator</h3>
        <p class="disclaimer" role="note">
          This prototype loads the program file <em>elf.txt</em> from the repo. Run the VM locally and upload or paste the output below.
        </p>

        <!-- Program (elf.txt from GitHub) -->
        <h4>Program (elf.txt)</h4>
        <pre id="tam-program" class="codeblock">Loading elf.txt…</pre>
        <p style="margin:.5rem 0">
          <a class="nav-pill" href="https://github.com/sthef-silva/Tiny-Accumulator-Machine--TAM----Two-Word-Instruction-VM-in-C/blob/main/elf.txt" target="_blank" rel="noopener">Open elf.txt on GitHub</a>
        </p>

        <hr style="border:none; border-top:1px solid rgba(0,0,0,.08); margin:1rem 0" />

        <!-- Output (visitor supplies) -->
        <h4>Output (from your run)</h4>
        <div style="display:flex; gap:.5rem; flex-wrap:wrap; align-items:center; margin:.25rem 0 1rem;">
          <label class="nav-pill" style="cursor:pointer;">
            <input id="upload-output" type="file" accept=".txt" hidden>
            Upload output .txt
          </label>
          <button id="clear-output" class="nav-pill" type="button">Clear</button>
        </div>
        <textarea id="tam-output-ta" rows="10" style="width:100%; max-width:100%; border-radius:10px; padding:.75rem; font-family:ui-monospace,Consolas,Menlo,monospace; font-size:14px; border:1px solid rgba(0,0,0,.2);" placeholder="Paste your console output here, or upload a .txt file."></textarea>

        <p style="margin-top:.75rem">
          <a class="nav-pill" href="https://github.com/sthef-silva/Tiny-Accumulator-Machine--TAM----Two-Word-Instruction-VM-in-C" target="_blank" rel="noopener">Open TAM repository</a>
          <a class="nav-pill" href="https://github.com/sthef-silva/Tiny-Accumulator-Machine--TAM----Two-Word-Instruction-VM-in-C/blob/main/tinyvm.c" target="_blank" rel="noopener">View tinyvm.c</a>
        </p>
      </section>

      <script>
        // Load elf.txt from your repo (case-sensitive path)
        const RAW_BASE = "https://raw.githubusercontent.com/sthef-silva/Tiny-Accumulator-Machine--TAM----Two-Word-Instruction-VM-in-C/main";
        async function loadInto(id, url){
          const el = document.getElementById(id);
          try{
            const res = await fetch(url, { cache: "no-store" });
            if(!res.ok) throw new Error(res.status + " " + res.statusText);
            el.textContent = (await res.text()).trim();
          }catch(err){
            el.textContent = `Could not load ${url}\n${err.message}`;
          }
        }
        loadInto("tam-program", `${RAW_BASE}/elf.txt`);

        // Local upload/paste for output
        function readLocalTxt(file, intoTextareaId){
          const ta = document.getElementById(intoTextareaId);
          const reader = new FileReader();
          reader.onload = () => { ta.value = String(reader.result || "").trim(); };
          reader.onerror = () => { ta.value = `Could not read ${file.name}`; };
          reader.readAsText(file);
        }
        document.getElementById("upload-output").addEventListener("change", (e) => {
          const file = e.target.files?.[0]; if(!file) return;
          readLocalTxt(file, "tam-output-ta");
        });
        document.getElementById("clear-output").addEventListener("click", () => {
          document.getElementById("tam-output-ta").value = "";
        });
      </script>


      <!-- How-to (keep brief; readers can use the README for full details) -->
      <section aria-labelledby="howto-heading" class="card">
        <h3 id="howto-heading">How to Run (Repo)</h3>
        <ol>
          <li>Clone the repo and follow the README instructions.</li>
          <li>Build the VM with <code>gcc</code> and run a sample program.</li>
        </ol>
        <p><a class="nav-pill" href="https://github.com/sthef-silva/Tiny-Accumulator-Machine--TAM----Two-Word-Instruction-VM-in-C" target="_blank" rel="noopener">View source &amp; README on GitHub</a></p>
      </section>

      <section aria-labelledby="p2-skills" class="card">
        <h3 id="p2-skills">Skills Used &amp; Learned</h3>
        <ul>
          <li>C programming (pointers, structs, file I/O)</li>
          <li>Virtual machine &amp; ISA design (two-word instructions)</li>
          <li>Execution state: PC, ACC, memory, halt conditions</li>
          <li>Control flow &amp; branching (JMP/JZ), arithmetic ops</li>
          <li>Input parsing (program loader) and error handling</li>
          <li>CLI UX &amp; documentation (README, examples)</li>
          <li>Version control &amp; hosting (Git, GitHub Pages iframe demo)</li>
        </ul>
      </section>
    </article>
  </main>

  <footer class="site-footer" role="contentinfo">
    <p>© <span id="year"></span> Sthefanny Silva</p>
  </footer>

  <script>
    document.getElementById('year').textContent = new Date().getFullYear();
  </script>
</body>
</html>